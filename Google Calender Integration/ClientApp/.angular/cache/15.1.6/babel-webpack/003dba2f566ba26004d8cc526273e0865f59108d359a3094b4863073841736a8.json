{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nexport class CalendarComponent {\n  constructor(http, fb, datePipe) {\n    this.http = http;\n    this.fb = fb;\n    this.datePipe = datePipe;\n  }\n  ngOnInit() {\n    this.eventForm = this.fb.group({\n      title: ['', Validators.required],\n      description: [''],\n      start: ['', Validators.required],\n      end: ['', Validators.required],\n      location: [''],\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n    });\n  }\n  onSubmit() {\n    const eventData = {\n      ...this.eventForm.value\n    };\n    const startDate = eventData.start;\n    const endDate = eventData.end;\n    eventData.start = this.datePipe.transform(startDate, 'dd-MM-yyyy HH:mm:ss');\n    eventData.end = this.datePipe.transform(endDate, 'dd-MM-yyyy HH:mm:ss');\n    console.log(this.eventForm.value);\n    this.http.get(\"https://localhost:44416/api/calendarevent/hasaccesstoken\").subscribe(result => {\n      if (result) {\n        this.http.post('https://localhost:44416/api/calendarevent/eventcreate', this.eventForm.value).subscribe(result => {\n          console.log(result);\n        });\n      } else {\n        this.http.get('https://localhost:44416/api/login', this.eventForm.value).subscribe(result => {\n          console.log(result);\n        });\n      }\n    });\n  }\n}\nCalendarComponent.ɵfac = function CalendarComponent_Factory(t) {\n  return new (t || CalendarComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.DatePipe));\n};\nCalendarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalendarComponent,\n  selectors: [[\"app-calendar\"]],\n  decls: 21,\n  vars: 1,\n  consts: [[1, \"calendar\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"title\"], [\"formControlName\", \"description\"], [\"type\", \"datetime-local\", \"formControlName\", \"start\"], [\"type\", \"datetime-local\", \"formControlName\", \"end\"], [\"type\", \"text\", \"formControlName\", \"location\"], [\"type\", \"submit\"]],\n  template: function CalendarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Create Event\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function CalendarComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"label\");\n      i0.ɵɵtext(5, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 2);\n      i0.ɵɵelementStart(7, \"label\");\n      i0.ɵɵtext(8, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"textarea\", 3);\n      i0.ɵɵelementStart(10, \"label\");\n      i0.ɵɵtext(11, \"Start Date and Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 4);\n      i0.ɵɵelementStart(13, \"label\");\n      i0.ɵɵtext(14, \"End Date and Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 5);\n      i0.ɵɵelementStart(16, \"label\");\n      i0.ɵɵtext(17, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 6);\n      i0.ɵɵelementStart(19, \"button\", 7);\n      i0.ɵɵtext(20, \"Create Event\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.eventForm);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;AASnE,OAAM,MAAOC,iBAAiB;EAG5BC,YAAoBC,IAAgB,EAAUC,EAAe,EAASC,QAAkB;IAApE,SAAI,GAAJF,IAAI;IAAsB,OAAE,GAAFC,EAAE;IAAsB,aAAQ,GAARC,QAAQ;EAC9E;EAEAC,QAAQ;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAC7BC,KAAK,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ,CAAC;MAChCC,WAAW,EAAE,CAAC,EAAE,CAAC;MACjBC,KAAK,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACU,QAAQ,CAAC;MAChCG,GAAG,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACU,QAAQ,CAAC;MAC9BI,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,QAAQ,EAAEC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC;KACnD,CAAC;EACJ;EAEAC,QAAQ;IACN,MAAMC,SAAS,GAAG;MAAC,GAAG,IAAI,CAACd,SAAS,CAACe;IAAK,CAAC;IAC3C,MAAMC,SAAS,GAAGF,SAAS,CAACT,KAAK;IACjC,MAAMY,OAAO,GAAGH,SAAS,CAACR,GAAG;IAC7BQ,SAAS,CAACT,KAAK,GAAG,IAAI,CAACP,QAAQ,CAACoB,SAAS,CAACF,SAAS,EAAE,qBAAqB,CAAE;IAC5EF,SAAS,CAACR,GAAG,GAAG,IAAI,CAACR,QAAQ,CAACoB,SAAS,CAACD,OAAO,EAAE,qBAAqB,CAAE;IACxEE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpB,SAAS,CAACe,KAAK,CAAC;IACjC,IAAI,CAACnB,IAAI,CAACyB,GAAG,CAAC,0DAA0D,CAAC,CAACC,SAAS,CAACC,MAAM,IAAG;MAC3F,IAAIA,MAAM,EAAC;QACT,IAAI,CAAC3B,IAAI,CAAC4B,IAAI,CAAC,uDAAuD,EAAE,IAAI,CAACxB,SAAS,CAACe,KAAK,CAAC,CAACO,SAAS,CAACC,MAAM,IAAG;UAC/GJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QACrB,CAAC,CAAC;OACH,MAAM;QACL,IAAI,CAAC3B,IAAI,CAACyB,GAAG,CAAC,mCAAmC,EAAE,IAAI,CAACrB,SAAS,CAACe,KAAK,CAAC,CAACO,SAAS,CAACC,MAAM,IAAG;UAC1FJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QACrB,CAAC,CAAC;;IAEN,CAAC,CAAC;EAGJ;;AArCW7B,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAA+B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV9BC,8BAAsB;MAChBA,4BAAY;MAAAA,iBAAK;MACrBA,+BAAsD;MAAxBA;QAAA,OAAYC,cAAU;MAAA,EAAC;MACnDD,6BAAO;MAAAA,qBAAK;MAAAA,iBAAQ;MACpBA,2BAA2C;MAE3CA,6BAAO;MAAAA,2BAAW;MAAAA,iBAAQ;MAC1BA,8BAAmD;MAEnDA,8BAAO;MAAAA,oCAAmB;MAAAA,iBAAQ;MAClCA,4BAAqD;MAErDA,8BAAO;MAAAA,kCAAiB;MAAAA,iBAAQ;MAChCA,4BAAmD;MAEnDA,8BAAO;MAAAA,yBAAQ;MAAAA,iBAAQ;MACvBA,4BAA8C;MAE9CA,kCAAsB;MAAAA,6BAAY;MAAAA,iBAAS;;;MAhBvCA,eAAuB;MAAvBA,yCAAuB","names":["Validators","CalendarComponent","constructor","http","fb","datePipe","ngOnInit","eventForm","group","title","required","description","start","end","location","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","onSubmit","eventData","value","startDate","endDate","transform","console","log","get","subscribe","result","post","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\ASP\\Google Calender Integration\\Google Calender Integration\\ClientApp\\src\\app\\calendar\\calendar.component.ts","D:\\ASP\\Google Calender Integration\\Google Calender Integration\\ClientApp\\src\\app\\calendar\\calendar.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {DatePipe} from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.css']\r\n})\r\nexport class CalendarComponent implements OnInit {\r\n\r\n  eventForm!: FormGroup;\r\n  constructor(private http: HttpClient, private fb: FormBuilder,private datePipe: DatePipe) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.eventForm = this.fb.group({\r\n      title: ['', Validators.required],\r\n      description: [''],\r\n      start: ['', Validators.required],\r\n      end: ['', Validators.required],\r\n      location: [''],\r\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const eventData = {...this.eventForm.value};\r\n    const startDate = eventData.start;\r\n    const endDate = eventData.end;\r\n    eventData.start = this.datePipe.transform(startDate, 'dd-MM-yyyy HH:mm:ss')!;\r\n    eventData.end = this.datePipe.transform(endDate, 'dd-MM-yyyy HH:mm:ss')!;\r\n    console.log(this.eventForm.value)\r\n    this.http.get(\"https://localhost:44416/api/calendarevent/hasaccesstoken\").subscribe(result => {\r\n      if (result){\r\n        this.http.post('https://localhost:44416/api/calendarevent/eventcreate', this.eventForm.value).subscribe(result => {\r\n          console.log(result);\r\n        });\r\n      } else {\r\n        this.http.get('https://localhost:44416/api/login', this.eventForm.value).subscribe(result => {\r\n          console.log(result);\r\n        });\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"calendar\">\r\n  <h2>Create Event</h2>\r\n  <form [formGroup]=\"eventForm\" (ngSubmit)=\"onSubmit()\">\r\n    <label>Title</label>\r\n    <input type=\"text\" formControlName=\"title\">\r\n\r\n    <label>Description</label>\r\n    <textarea formControlName=\"description\"></textarea>\r\n\r\n    <label>Start Date and Time</label>\r\n    <input type=\"datetime-local\" formControlName=\"start\">\r\n\r\n    <label>End Date and Time</label>\r\n    <input type=\"datetime-local\" formControlName=\"end\">\r\n\r\n    <label>Location</label>\r\n    <input type=\"text\" formControlName=\"location\">\r\n\r\n    <button type=\"submit\">Create Event</button>\r\n  </form>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}